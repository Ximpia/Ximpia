{% extends "base/base.html" %}

{% load i18n %}
{% load socialNetworkTags %}

{% block form %}<form id="id_Form1" action="" method="post">{% endblock %}
	
{% block css %}
<link href="{{settings.MEDIA_URL}}css/ximpia.qtip.css" rel="stylesheet" type="text/css" />
{% endblock %}

{% block js %}

<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>

<script type="text/javascript" src="{{settings.MEDIA_URL}}js/ximpia-plugins/ximpia.passStrengthener.js"></script>

<script type="text/javascript" src="{{settings.MEDIA_URL}}js/ximpia-plugins/ximpia.metadata.js"></script>
<script type="text/javascript" src="{{settings.MEDIA_URL}}js/ximpia-plugins/ximpia.form.js"></script>
<script type="text/javascript" src="{{settings.MEDIA_URL}}js/ximpia-plugins/ximpia.validate.js"></script>

<!--<script type="text/javascript" src="{{settings.MEDIA_URL}}js/ximpia-plugins/ximpia.jsonSuggest.js"></script>-->

<script type="text/javascript" src="{{settings.MEDIA_URL}}js/ximpia-plugins/ximpia.networkIcon.js"></script>
<script type="text/javascript" src="{{settings.MEDIA_URL}}js/ximpia-plugins/ximpia.loading.js"></script>
<script type="text/javascript" src="{{settings.MEDIA_URL}}js/ximpia-plugins/ximpia.pageButton.js"></script>
<script type="text/javascript" src="{{settings.MEDIA_URL}}js/ximpia-plugins/ximpia.qtip.js"></script>

<!--<script type="text/javascript" src="{{settings.MEDIA_URL}}js/json.js"></script>-->

<script type="text/javascript" src="http://connect.facebook.net/en_US/all.js"></script>

<!--<script type="text/javascript" src="http://platform.linkedin.com/in.js">
  api_key: UqqNxkAHjuhRzW4PMdyq2H-_MqWyFTDmTtTOfa6TiIX_Nu73_f7YdWNtI__yUnl5
  onLoad: onLinkedInLoad
  authorize: true
</script>-->

<!--
<script type="text/javascript">  
  // 2. Runs when the JavaScript framework is loaded
  function onLinkedInLoad() {
    IN.Event.on(IN, "auth", onLinkedInAuth);
  }

  // 2. Runs when the viewer has authenticated
  function onLinkedInAuth() {
    IN.API.Profile("me").result(displayProfiles);
  }

  // 2. Runs when the Profile() API call returns successfully
  function displayProfiles(profiles) {
    member = profiles.values[0];
    //document.getElementById("profiles").innerHTML = 
    //  "<p id=\"" + member.id + "\">Hello " +  member.firstName + " " + member.lastName + "</p>";
  }
</script>
-->

<!-- x-webkit-speech -->

<!-- Facebook Button -->
<div id="fb-root"></div>
<!-- Facebook Button -->

{% endblock %}

{% block jquery %}

	// Just call a method for the bindings of the page
	var obj = ximpia.site.Signup();
	console.log(obj)
	obj.doProfessionalBind();

{% endblock %}

{% block title %}Ximpia - {% trans "Signup" %}{% endblock %}

{% block app %}

    <div id="app_Site" class="app">
	
	{% if show_message %}
	<div id="ErrorMessage" style="background-color:#DDDDDD; padding:20px"><b>Message</b></div>
	{% endif %}

	<h3>XimpiaId</h3>
	<div class="formBlock" style="margin-top: 0px">
		{% field "ximpiaId" form.ximpiaId "{"info": true, "tabindex": 1}" %} <br/>
		<div id="id_showPassword">
			{% if not auth.facebook %}	
				{% field "password" form.password "{"info": true, "tabindex": 2}" %} <br/>
				{% field "passwordVerify" form.passwordVerify "{"tabindex": 3}" %} <br/>	
			{% endif %}
		</div>
	</div>
	<div class="vLineSep"><img src="{{settings.MEDIA_URL}}images/blank.png" alt=" " /></div>
	<div id="id_socialNetworkSignupButtonsZone" style="float: left; margin-top: 20px">		
		<div id="id_fbLoginButton"><fb:login-button perms="{{settings.FACEBOOK_SCOPE}}" show_faces="true"></fb:login-button></div>
	</div>

	<div id="id_userData" style=" clear: both; padding-top: 5px">	
		<h3>{% trans "About You" %}</h3>
		<div id="id_info" class="formBlock" style="margin-top: 0px">
			<div class="frmLeft">
				{% field "firstName" form.firstName "{"tabindex": 4}" %} <br/>
				{% field "email" form.email "{"tabindex": 6}" %} <br/>
				{% field "country" form.country "{"tabindex": 8}" %} <br/>
			</div>	
			<div class="frmRight">
				{% field "lastName" form.lastName "{"tabindex": 5}" %} <br/>
				{% field "city" form.city "{"tabindex": 7}" %} <br/>
			</div>
		</div><!-- Info -->	
	</div><!-- UserData -->

	{% signupButtonBar "{idForm: 'id_Form1'}" %}
	
    </div>
    <!-- End app_MyApp -->

{% endblock %}
